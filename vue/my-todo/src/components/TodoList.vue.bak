<template>
  <div>
    <ul>
      <li v-for="(todoItem, idx) in todoItems" v-bind:key="idx">
        {{todoItem}}
        <span class="removeBtn" v-on:click="removeItem(todoitem, idx)">
            <i class="fas fa-trash-alt"></i>
        </span>
      </li>
    </ul>
  </div>
</template>

<script>
export default {
  data: function() {
    return {
      todoItems: []
    }
  },
  created: function() {
    var data = localStorage.getItem('인풋 박스 만들기');
    // alert(data);
    if (localStorage.length > 0) {
      for (var i = 0; i < localStorage.length ; i++) {
        var item = localStorage.key(i);
        this.todoItems.push(item);
      }
    }
  },
  methods:{
      removeItem: function(todoitem, idx){
        //   localstorage.removeItem(todoItem)
        //   this.todoItems.splice(idx, 1)

        var deleteItem = {
            'todoItem' : todoItem,
            'index' : idx
        };

        // this.$emit('delete', deleteItem);
        // App.vue로 쏘는 도앚ㄱ
        this.$emit('delete', todoItem, index);


      }
  }
}
</script>

<style>

</style>
